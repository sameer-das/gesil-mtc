<app-page-header title="Zone Details" [backButton]="true" />


<div class="gesil-card mt-4">

    @if(zoneDetails){
    <div class="font-semibold text-xl mb-4">Wards under zone : {{zoneDetails.zoneName}}</div>
    }


    @if(wards.length > 0) {
    <p-table [value]="wards" dataKey="wardId" [rows]="TABLE_CONFIG.rows" [rowHover]="TABLE_CONFIG.rowHover"
        [showGridlines]="TABLE_CONFIG.showGridlines" [paginator]="TABLE_CONFIG.paginator"
        responsiveLayout="TABLE_CONFIG.responsiveLayout" [rowsPerPageOptions]="TABLE_CONFIG.rowsPerPageOptions"
        [totalRecords]="totalRecords" [lazy]="true" (onPage)="onPaginate($event)">

        <ng-template #caption>
            <div class="flex justify-between items-center flex-column sm:flex-row">
                <a [routerLink]="['/master','ward-create']" [queryParams]="{zoneId:zoneDetails.zoneId}"
                    class="p-button ml-auto">
                    <i class="pi pi-plus-circle"></i>Add New Ward
                </a>
            </div>
        </ng-template>

        <ng-template #header>
            <tr>
                <th style="min-width: 12rem">
                    <div class="flex justify-between items-center">
                        Sl No
                    </div>
                </th>
                <th style="min-width: 12rem">
                    <div class="flex justify-between items-center">
                        Ward Name/Moholla Name
                    </div>
                </th>
                <th style="min-width: 12rem">
                    <div class="flex justify-between items-center">
                        Ward Number
                    </div>
                </th>
                <!-- <th style="min-width: 12rem">
                    <div class="flex justify-between items-center">
                        Zone Name
                    </div>
                </th>
                <th style="min-width: 12rem">
                    <div class="flex justify-between items-center">
                        Action
                    </div>
                </th> -->
            </tr>
        </ng-template>


        <ng-template #body let-item let-index="rowIndex">
            <tr>
                <td>
                    {{ index + 1 }}
                </td>
                <td>
                    {{ item.wardName }}
                </td>
                <td>
                    {{ item.wardNumber }}
                </td>
                <!-- <td>
                    {{ item.zoneName }}
                </td>
                <td>
                    <a pButton icon="pi pi-pencil" [routerLink]="['../', 'ward-edit', item.wardId]" [rounded]="true" class="mr-2" severity="help"
                     pTooltip="Edit"></a>
                    <p-button icon="pi pi-trash" [rounded]="true" class="" severity="danger"
                        (click)="deleteUserType(item)" pTooltip="Delete"></p-button>
                </td> -->

            </tr>
        </ng-template>
    </p-table>
    } @else {
        <p class="text-red-500 text-sm text-center">No wards found for this zone.</p>
        @if(zoneDetails){
            <div class="flex justify-center mt-4">
                <a [routerLink]="['/master','ward-create']" [queryParams]="{zoneId:zoneDetails.zoneId}" class="p-button">
                    <i class="pi pi-plus-circle"></i>Add New Ward
                </a>
            </div>
        }
    }
</div>