<app-page-header title="User List"></app-page-header>


<div class="gesil-card mt-4">
    <!-- <img src="/assets/avatar.png" alt="avatar" /> -->
    <p-table #dt1 dataKey="id" 
        [value]="userList" 
        [rowHover]="TABLE_CONFIG.rowHover"
        [showGridlines]="TABLE_CONFIG.showGridlines" 
        responsiveLayout="TABLE_CONFIG.responsiveLayout"
        [paginator]="TABLE_CONFIG.paginator" 
        [rows]="TABLE_CONFIG.rows" 
        [rowsPerPageOptions]="TABLE_CONFIG.rowsPerPageOptions"
        [totalRecords]="totalRecords"
        [lazy]="true"
        (onLazyLoad)="loadUserData($event)">
        <!-- <ng-template #caption>
            <div class="flex justify-between items-center flex-column sm:flex-row">
                <p-iconfield iconPosition="left" class="ml-auto">
                    <p-inputicon>
                        <i class="pi pi-search"></i>
                    </p-inputicon>
                    <input pInputText type="text" (input)="onGlobalFilter(dt1, $event)" placeholder="Search keyword" />
                </p-iconfield>
            </div>
        </ng-template> -->

        <ng-template #header>
            <tr>
                <th style="min-width: 12rem">
                    <div class="flex justify-between items-center">
                        Name
                    </div>
                </th>
                <th style="min-width: 12rem">
                    <div class="flex justify-between items-center">
                        Mobile
                    </div>
                </th>
                <th style="min-width: 12rem">
                    <div class="flex justify-between items-center">
                        Email
                    </div>
                </th>
                <th style="min-width: 12rem">
                    <div class="flex justify-between items-center">
                        Designation
                    </div>
                </th>
                <th style="min-width: 12rem">
                    <div class="flex justify-between items-center">
                        Action
                    </div>
                </th>
            </tr>
        </ng-template>

        <ng-template #body let-user>
            <tr>
                <!-- <td>
                    <div class="flex items-center gap-2">
                        <img [alt]="user.name" src="/assets/avatar.png" width="32" style="vertical-align: middle" />
                        <span class="image-text">{{ user.name }}</span>
                    </div>
                </td> -->

                <td>
                    {{ user.firstName }}
                </td>
                <td>
                    {{ user.mobile }}
                </td>
                <td>
                    {{ user.emailId }}
                </td>
                <td>
                    {{ user.userTypeName }}
                </td>


                <td>
                    <a pButton icon="pi pi-eye" [rounded]="true" class="mr-2"
                        [routerLink]="['..','details', `${user.userId}`]" pTooltip="View"></a>
                    <a pButton icon="pi pi-pencil" [rounded]="true" class="mr-4" severity="help"
                        [routerLink]="['..','edit', `${user.userId}`]" [queryParams]="{tab: 'basic-details'}" pTooltip="Edit"></a>
                    <!-- <p-button icon="pi pi-trash" [rounded]="true" class="" severity="danger"
                        (click)="deleteUser(user)" pTooltip="Delete"></p-button> -->
                </td>

            </tr>
        </ng-template>
    </p-table>
</div>